<!DOCTYPE html>
<html lang="en">
<head>
    <title> RxSwift For Dummies ğŸ£ Part3 Â· CepheusTrans </title>
    <meta charset="UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=edge" />
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1"/>


<link rel="stylesheet" href="/style/style.css">
<script src="/script/jquery.min.js"></script>
<script>
    var CONFIG = {
        title: "CepheusTrans",
        author: "CepheusSun",
        lightbox: true,
        animate: true
    }
</script>



    <link rel="stylesheet" href="/lightbox/css/lightbox.min.css">




    <link rel="stylesheet" href="/syuanpi/syuanpi.min.css">










</head>
<body>
    <div class="progress">
    <div class="progress-inner"></div>
</div>
    <div class="body">
    <div class="tagcloud" id="tagcloud">
    <div class="tagcloud-inner">
        <a href="/tags/POP/" style="font-size: 14px;">POP</a> <a href="/tags/Reactive/" style="font-size: 14px;">Reactive</a> <a href="/tags/Swift/" style="font-size: 14px;">Swift</a> <a href="/tags/iOS/" style="font-size: 14px;">iOS</a> <a href="/tags/ç¿»è¯‘/" style="font-size: 14px;">ç¿»è¯‘</a> <a href="/tags/è®¾è®¡æ¨¡å¼/" style="font-size: 14px;">è®¾è®¡æ¨¡å¼</a>
    </div>
</div>
    <header class="header" id="header">
    <div class="title syuanpi tvIn">
    <div class="table">
        <div class="connect">
            <div class="connect-inner">
                <span><a href="/">CepheusTrans</a></span>
                
            </div>
        </div>
    </div>
</div>
    <nav class="main-nav syuanpi tvIn">
<div class="table">

    <ul class="menu">
        
        
            <li class="menu-item">
                <a href="/">
                    <span>Article</span>
                    
                    
                </a>
            </li>
        
        
        
            <li class="menu-item">
                <a href="/archives">
                    <span>Archives</span>
                    
                    
                </a>
            </li>
        
        
        
            <li class="menu-item">
                <a href="javascript:;" id="tags">
                    <span>Tags</span>
                    
                    
                </a>
            </li>
        
        
        
            <li class="menu-item">
                <a href="/about">
                    <span>About</span>
                    
                    
                </a>
            </li>
        
        
    </ul>

</div>
</nav>
<div class="mobile-nav"></div>
</header>
    <div class="container">
        <main class="main" id="main">
            
    
    <article class="post">
        <header class="post-header">
            <div class="post-time syuanpi riseIn-light back-1">
                <span>May 7, 2017</span>
            </div>
            <h1 class="post-title syuanpi riseIn-light back-2">
            
                RxSwift For Dummies ğŸ£ Part3
            
            </h1>
            
                
                    <div class="post-tags syuanpi riseIn-light back-3">
                    
                        <a href="/tags/iOS/">iOS</a>
                    
                        <a href="/tags/Swift/">Swift</a>
                    
                        <a href="/tags/ç¿»è¯‘/">ç¿»è¯‘</a>
                    
                        <a href="/tags/Reactive/">Reactive</a>
                    
                    </div>
                
            
        </header>
        <div class="post-content syuanpi riseIn-light back-3">
            
                <p>å¥½äº†, æ¥ä¸‹æ¥æ˜¯ç¬¬ä¸‰ä¸ªéƒ¨åˆ†ã€‚<strong>Subjects</strong></p>
<p>å­¦äº†ä¹‹å‰å†…å®¹. æˆ‘ä»¬å¯èƒ½å·²ç»å‘ç°äº†ã€‚ä¹‹å‰å­¦ä¹ çš„å†…å®¹éƒ½æ˜¯ <code>Observables</code> è¾“å‡ºäº‹ä»¶çš„éƒ¨åˆ†ã€‚æˆ‘ä»¬å¯ä»¥è®¢é˜…ä»–, å°±èƒ½çŸ¥é“ä»–è¾“å‡ºçš„äº‹ä»¶äº†ã€‚ä½†æ˜¯æˆ‘ä»¬è¿˜ä¸èƒ½æ”¹å˜ä»–ã€‚</p>
<p><strong>Subject</strong> ä¹Ÿæ˜¯ä¸€ä¸ª <code>Observable</code> ä½†æ˜¯ä»–æ˜¯èƒ½å¤ŸåŒæ—¶è¾“å…¥å’Œè¾“å‡ºçš„ã€‚ä¹Ÿå°±æ˜¯è¯´, æˆ‘ä»¬å¯ä»¥åŠ¨æ€(å¼ºåˆ¶)çš„åœ¨ä¸€ä¸ªåºåˆ—ä¸­å‘å‡ºä¿¡å·ã€‚</p>
<figure class="highlight swift"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">let</span> subject = <span class="type">PublishSubject</span>&lt;<span class="type">String</span>&gt;()</div><div class="line"><span class="comment">// å¯ä»¥ç›´æ¥è½¬æ¢ï¼Œå› ä¸ºä»–ä¹Ÿæ˜¯ä¸€ä¸ª `Observable`</span></div><div class="line"><span class="keyword">let</span> observable: <span class="type">Observable</span>&lt;<span class="type">String</span>&gt; = subject</div><div class="line">observable.subscribe(onNext: &#123; (text) <span class="keyword">in</span></div><div class="line">    <span class="built_in">print</span>(text)</div><div class="line">&#125;).addDisposableTo(disposeBag)</div><div class="line"><span class="comment">// åªè¦ä½ æƒ³å‘å‡ºä¸€ä¸ªæ–°çš„äº‹ä»¶, å°±å¯ä»¥ç”¨ onNext æ–¹æ³• </span></div><div class="line">subject.onNext(<span class="string">"Hey!"</span>)</div><div class="line">subject.onNext(<span class="string">"I'm back!"</span>)</div></pre></td></tr></table></figure>
<p><strong>onNext</strong> æ˜¯ä¸€ä¸ªè¾“å‡ºäº‹ä»¶çš„æ–¹æ³•ã€‚æœ€åæ§åˆ¶å°ä¼šè¾“å‡º</p>
<blockquote>
<p>â€œHey!â€<br>â€œIâ€™m back!â€</p>
</blockquote>
<p><code>Subject</code> åˆ°åº•æœ‰ä»€ä¹ˆç”¨å‘¢? ä¸ºäº†å¾ˆè½»æ¾çš„å°† Rxswift ä¸­å£°æ˜å¼çš„ä¸–ç•Œå’Œæˆ‘ä»¬å¹³å¸¸çš„ä¸–ç•Œè¿æ¥èµ·æ¥ã€‚è®©æˆ‘ä»¬åœ¨éœ€è¦å†™å®ç°å¼çš„ä»£ç çš„æ—¶å€™æ›´ Rx </p>
<p>åœ¨ä¸€ä¸ªçº¯æ­£çš„ Rx çš„ä¸–ç•Œé‡Œã€‚å½“ä½ éœ€è¦æœ‰ä¸€ä¸ªæ›´å®Œç¾çš„æµçš„æ—¶å€™, ä¸ç”¨å»ç®¡è¿™ä¸ª <code>Observable</code> æ˜¯æ€ä¹ˆå®ç°çš„ã€‚è¿™ä¸ªä¸œè¥¿æˆ‘ä¼šå¦å¤–çš„è§£é‡Šã€‚åæ­£, å¦‚æœä½ éœ€è¦ï¼Œ å¤§èƒ†çš„ç”¨å§ã€‚</p>
<p>ä¸Šé¢å¼å…³äº Subject æœ€åŸºæœ¬çš„å†…å®¹ã€‚æ¥ä¸‹æ¥æˆ‘ä»¬å­¦ä¹ ä¸€ä¸‹æ€ä¹ˆæ›´å¥½çš„ä½¿ç”¨ <strong>Subject</strong></p>
<h3 id="HotğŸ”¥-vs-Coldâ„ï¸"><a href="#HotğŸ”¥-vs-Coldâ„ï¸" class="headerlink" title="HotğŸ”¥ vs Coldâ„ï¸"></a>HotğŸ”¥ vs Coldâ„ï¸</h3><p>åœ¨ç¬¬ä¸€ç¯‡æ–‡ç« ä¸­å°±å·²ç»æåˆ°è¿‡äº†çƒ­ä¿¡å·ğŸ”¥å’Œå†·ä¿¡å·â„ï¸ã€‚ä»Šå¤©æˆ‘ä»¬åœ¨æ·±å…¥çš„äº†è§£ä¸€ç‚¹å§ï¼Œå› ä¸º <strong>Subject</strong> å®é™…ä¸Šæ˜¯æˆ‘ä»¬ç¬¬ä¸€æ¬¡æ¥è§¦åˆ°çœŸæ­£çš„çƒ­ä¿¡å·ã€‚</p>
<p>æˆ‘ä»¬ä¸€å®šç¡®å®šäº†ï¼Œå½“æˆ‘ä»¬ä½¿ç”¨ <strong>create</strong> åˆ›å»ºä¸€ä¸ª <strong>Observable</strong> çš„æ—¶å€™, ç”±äºæ²¡æœ‰äººè®¢é˜…ä»–ï¼Œæ‰€ä»¥å¥¹æ˜¯ä¸ä¼šå‘é€æ¶ˆæ¯çš„ã€‚åªæœ‰è¢« <strong>subscribe</strong>(è®¢é˜…)ä¹‹åæ‰ä¼šå¼€å§‹å‘é€æ¶ˆæ¯å‡ºæ¥ã€‚è¿™å°±æ˜¯æˆ‘ä»¬å«å®ƒä¸ºå†·ä¿¡å·â„ï¸çš„åŸå› ã€‚å¦‚æœå¾ˆä¸å¹¸ä½ å¿˜äº†è¿™ä¸ªçŸ¥è¯†ç‚¹ã€‚ä½ å¯ä»¥å›åˆ°ç¬¬ä¸€ç¯‡æ–‡ç« å»çœ‹çœ‹ã€‚çƒ­ä¿¡å·ğŸ”¥ å°±æ˜¯é‚£ç§å³ä½¿æ²¡æœ‰è¢«è®¢é˜…ä¹Ÿä¼šå‘å‡ºæ¶ˆæ¯çš„ä¿¡å·, è¿™ä¹Ÿæ˜¯ <code>subject</code> åšçš„äº‹æƒ…ã€‚</p>
<figure class="highlight swift"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">let</span> subject = <span class="type">PublishSubject</span>&lt;<span class="type">String</span>&gt;()</div><div class="line"><span class="keyword">let</span> observable: <span class="type">Observable</span>&lt;<span class="type">String</span>&gt; = subject</div><div class="line"><span class="comment">// è¿™ä¸ªä¿¡å·è¿˜æ²¡æœ‰è¢«è®¢é˜…, æ‰€ä»¥è¿™ä¸ªå€¼ä¸å›è¢«æ¥å—åˆ°</span></div><div class="line">subject.onNext(<span class="string">"Am I too early for the party?"</span>)</div><div class="line"></div><div class="line">observable</div><div class="line">    .subscribe(onNext: &#123; (text) <span class="keyword">in</span></div><div class="line">        <span class="built_in">print</span>(text)</div><div class="line">    &#125;).addDisposableTo(disposeBag)</div><div class="line"><span class="comment">// è¿™ä¸ªå€¼å‘å‡ºæ¥çš„æ—¶å€™å·²ç»æœ‰ä¸€ä¸ªè®¢é˜…è€…äº†, æ‰€ä»¥è¿™ä¸ªå€¼ä¼šæ‰“å°å‡ºæ¥</span></div><div class="line">subject.onNext(<span class="string">"ğŸ‰ğŸ‰ğŸ‰"</span>)</div></pre></td></tr></table></figure>
<p>å¾ˆç®€å•ç›´æ¥å§ã€‚å¦‚æœåœ¨ç¬¬ä¸€ç¯‡ä¸­ä½ ç†è§£äº†å†·ä¿¡å·çš„è¯, ç†è§£çƒ­ä¿¡å·ä¹Ÿæ˜¯å¾ˆè‡ªç„¶çš„äº‹æƒ…ã€‚</p>
<h3 id="Subject-Types"><a href="#Subject-Types" class="headerlink" title="Subject Types"></a>Subject Types</h3><p>å¸¸ç”¨çš„ <code>Subject</code> æœ‰ä¸‰ç§ã€‚ ä»–ä»¬å…¶å®éƒ½å·®ä¸å¤š, å”¯ä¸€çš„åŒºåˆ«å°±æ˜¯: åœ¨è®¢é˜…ä¹‹å‰, å®ƒä¼šå¹²ä»€ä¹ˆã€‚</p>
<a id="more"></a>
<h4 id="Publish-Subject"><a href="#Publish-Subject" class="headerlink" title="Publish Subject"></a>Publish Subject</h4><p>åœ¨ä¸Šé¢çš„ä¾‹å­ä¸­å·²ç»è¯´åˆ°äº†ã€‚ <strong>PublishSubject</strong> ä¼šå¿½ç•¥æ‰åœ¨è®¢é˜…ä¹‹å‰å‘å‡ºæ¥çš„ä¿¡å·ã€‚</p>
<figure class="highlight swift"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">let</span> subject = <span class="type">PublishSubject</span>&lt;<span class="type">String</span>&gt;()</div><div class="line"><span class="keyword">let</span> observable: <span class="type">Observable</span>&lt;<span class="type">String</span>&gt; = subject</div><div class="line">subject.onNext(<span class="string">"Ignored..."</span>)</div><div class="line">observable.subscribe(onNext: &#123; (text) <span class="keyword">in</span></div><div class="line">    <span class="built_in">print</span>(text)</div><div class="line">&#125;).addDisposableTo(disposeBag)</div><div class="line">subject.onNext(<span class="string">"Printed!"</span>)</div></pre></td></tr></table></figure>
<p>å½“ä½ åªå…³æ³¨ä½ è®¢é˜…ä¹‹åå‘ç”Ÿäº†ä»€ä¹ˆçš„æ—¶å€™, å°±å¯ä»¥ä½¿ç”¨ <code>PublishSubject</code></p>
<h4 id="Replay-Subjects"><a href="#Replay-Subjects" class="headerlink" title="Replay Subjects"></a>Replay Subjects</h4><p><strong>ReplaySubject</strong> ä¼šå°†æœ€å n ä¸ªå€¼å‘å‡ºæ¥, å³ä½¿æ˜¯è®¢é˜…å‘ç”Ÿä¹‹å‰çš„å€¼ã€‚ è¿™ä¸ª n ä¸ªå€¼è¢«è¢«æ”¾åœ¨ä¸€ä¸ªç¯ä»åŒºé‡Œé¢ã€‚åœ¨è¿™ä¸ªä¾‹å­ä¸­ä¼šç¼“æœ‰ 3 ä¸ªå€¼è¢«ä¿ç•™ã€‚</p>
<figure class="highlight swift"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">let</span> subject = <span class="type">ReplaySubject</span>&lt;<span class="type">String</span>&gt;.create(bufferSize: <span class="number">3</span>)</div><div class="line"><span class="keyword">let</span> observable: <span class="type">Observable</span>&lt;<span class="type">String</span>&gt; = subject</div><div class="line"></div><div class="line">subject.onNext(<span class="string">"Not printed!"</span>)</div><div class="line">subject.onNext(<span class="string">"Printed"</span>)</div><div class="line">subject.onNext(<span class="string">"Printed!"</span>)</div><div class="line">subject.onNext(<span class="string">"Printed!"</span>)</div><div class="line"></div><div class="line">observable.subscribe(onNext: &#123; (text) <span class="keyword">in</span></div><div class="line">    <span class="built_in">print</span>(text)</div><div class="line">&#125;).addDisposableTo(disposeBag)</div><div class="line">subject .onNext(<span class="string">"Printed!"</span>)</div></pre></td></tr></table></figure>
<p>å½“æˆ‘ä»¬éœ€è¦çŸ¥é“è®¢é˜…ä¹‹å‰å‘ç”Ÿäº†ä»€ä¹ˆçš„æ—¶å€™, æˆ‘ä»¬å°±éœ€è¦ä½¿ç”¨ <code>ReplaySubject</code> äº†ã€‚</p>
<h4 id="Behavior-Subject"><a href="#Behavior-Subject" class="headerlink" title="Behavior Subject"></a>Behavior Subject</h4><p><strong>BehaviorSubject</strong> åªä¼šé‡å¤æœ€åä¸€ä¸ªå€¼ã€‚ æ›´å…¶ä»–çš„ Subject çš„åŒï¼Œ ä»–åœ¨åˆ›å»ºçš„æ—¶å€™å°±éœ€è¦ç»™å®šä¸€ä¸ªåˆå§‹å€¼ã€‚</p>
<figure class="highlight swift"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">let</span> subject = <span class="type">BehaviorSubject</span>&lt;<span class="type">String</span>&gt;(value: <span class="string">"Initial value"</span>)</div><div class="line"><span class="keyword">let</span> observable: <span class="type">Observable</span>&lt;<span class="type">String</span>&gt; = subject</div><div class="line"></div><div class="line">subject.onNext(<span class="string">"Not printed!"</span>)</div><div class="line">subject.onNext(<span class="string">"Not printed!"</span>)</div><div class="line">subject.onNext(<span class="string">"Printed!"</span>)</div><div class="line"></div><div class="line">observable.subscribe(onNext: &#123; (text) <span class="keyword">in</span></div><div class="line">    <span class="built_in">print</span>(text)</div><div class="line">&#125;).addDisposableTo(disposeBag)</div><div class="line">subject.onNext(<span class="string">"Printed!"</span>)</div></pre></td></tr></table></figure>
<p>å½“ä½ åªéœ€è¦çŸ¥é“æœ€åä¸€ä¸ªå€¼çš„æ—¶å€™ã€‚å°±éœ€è¦ä½¿ç”¨ <code>BehaviorSubject</code></p>
<h3 id="Binding"><a href="#Binding" class="headerlink" title="Binding"></a>Binding</h3><p>ä½ å¯ä»¥æŠŠä¸€ä¸ª <code>Observable</code> å’Œ <code>Subject</code> ç»‘å®šåˆ°ä¸€èµ·ã€‚ä¹Ÿå°±æ˜¯è¯´å¯ä»¥è®©è¿™ä¸ª <code>Observable</code> å°†å®ƒçš„åºåˆ—é‡Œçš„æ‰€æœ‰å€¼éƒ½å‘é€ç»™è¿™ä¸ª <code>Subject</code></p>
<figure class="highlight swift"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">let</span> subject = <span class="type">PublishSubject</span>&lt;<span class="type">String</span>&gt;()</div><div class="line"><span class="keyword">let</span> observable = <span class="type">Observable</span>&lt;<span class="type">String</span>&gt;.just(<span class="string">"I'm being passed around ğŸ˜²"</span>)</div><div class="line">subject.subscribe(onNext: &#123; (text) <span class="keyword">in</span></div><div class="line">    <span class="built_in">print</span>(text)</div><div class="line">&#125;).addDisposableTo(disposeBag)</div><div class="line"></div><div class="line">observable.subscribe &#123; (event) <span class="keyword">in</span></div><div class="line">    subject.on(event)</div><div class="line">&#125;.addDisposableTo(disposeBag)</div></pre></td></tr></table></figure>
<p>æœ‰ä¸€ä¸ªè¯­æ³•ç³–æ¥ç®€åŒ–è¿™äº›ä»£ç ã€‚</p>
<figure class="highlight swift"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">let</span> subject = <span class="type">PublishSubject</span>&lt;<span class="type">String</span>&gt;()</div><div class="line"><span class="keyword">let</span> observable = <span class="type">Observable</span>&lt;<span class="type">String</span>&gt;.just(<span class="string">"I'm being passed around ğŸ˜²"</span>)</div><div class="line">subject.subscribe(onNext: &#123; (text) <span class="keyword">in</span></div><div class="line">    <span class="built_in">print</span>(text)</div><div class="line">&#125;).addDisposableTo(disposeBag)</div><div class="line"></div><div class="line">observable.bind(to: subject).addDisposableTo(disposeBag)</div></pre></td></tr></table></figure>
<p>è¾“å‡º</p>
<blockquote>
<p>Iâ€™m being passed around ğŸ˜²</p>
</blockquote>
<p><strong>Warning</strong></p>
<p>Binding ä¸ä»…ä»…ä¼šä¼ é€’å€¼, ä»–ä¹Ÿä¼šæŠŠå®Œæˆå’Œé”™è¯¯éƒ½ä¼ é€’è¿‡æ¥ã€‚è¿™ç§æƒ…å†µä¸‹è¿™ä¸ª <code>Subject</code> å°±ä¼šè¢«é‡Šæ”¾ã€‚</p>
<h3 id="Quick-Example"><a href="#Quick-Example" class="headerlink" title="Quick Example"></a>Quick Example</h3><p>è¿˜æ˜¯æŠŠç¬¬ä¸€ç¯‡æ–‡ç« ä¸­çš„ Demo ç¨å¾®ä¿®æ”¹ä¸€ä¸‹å§ã€‚</p>
<figure class="highlight swift"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">import</span> Foundation</div><div class="line"><span class="keyword">import</span> RxCocoa</div><div class="line"><span class="keyword">import</span> RxSwift</div><div class="line"></div><div class="line"><span class="keyword">final</span> <span class="class"><span class="keyword">class</span> <span class="title">GoogleModel</span> </span>&#123;</div><div class="line">    <span class="keyword">let</span> googleString = <span class="type">BehaviorSubject</span>&lt;<span class="type">String</span>&gt;(value: <span class="string">""</span>)</div><div class="line">    <span class="keyword">private</span> <span class="keyword">let</span> disposeBag = <span class="type">DisposeBag</span>()</div><div class="line">    </div><div class="line">    </div><div class="line">    <span class="function"><span class="keyword">func</span> <span class="title">fetchNetString</span><span class="params">()</span></span>  &#123;</div><div class="line">        <span class="keyword">let</span> observable = <span class="type">Observable</span>&lt;<span class="type">String</span>&gt;.create &#123; (observer) -&gt; <span class="type">Disposable</span> <span class="keyword">in</span></div><div class="line">            <span class="keyword">let</span> session = <span class="type">URLSession</span>.shared</div><div class="line">            <span class="keyword">let</span> task = session.dataTask(with: <span class="type">URL</span>(string: <span class="string">"https://www.google.com"</span>)!, completionHandler: &#123; (data, response, error) <span class="keyword">in</span></div><div class="line">                </div><div class="line">                <span class="type">DispatchQueue</span>.main.async &#123;</div><div class="line">                    <span class="keyword">if</span> <span class="keyword">let</span> err = error &#123;</div><div class="line">                        observer.onError(err)</div><div class="line">                    &#125; <span class="keyword">else</span> &#123;</div><div class="line">                        <span class="keyword">let</span> googleString = <span class="type">NSString</span>(data: data!, encoding: <span class="number">1</span>) <span class="keyword">as</span> <span class="type">String</span>?</div><div class="line">                        </div><div class="line">                        observer.onNext(googleString!)</div><div class="line">                        observer.onCompleted()</div><div class="line">                    &#125;</div><div class="line">                &#125;</div><div class="line">            &#125;)</div><div class="line">            task.resume()</div><div class="line">            <span class="keyword">return</span> <span class="type">Disposables</span>.create&#123;</div><div class="line">                task.cancel()</div><div class="line">            &#125;</div><div class="line">        &#125;</div><div class="line">        </div><div class="line">        <span class="comment">// Bind the observable to the subject</span></div><div class="line">        observable.bind(to: googleString).addDisposableTo(disposeBag)</div><div class="line">    &#125;</div><div class="line">&#125;        </div><div class="line"><span class="comment">// Bind the observable to the subject</span></div><div class="line">observable.bind(to: googleString).addDisposableTo(disposeBag)</div></pre></td></tr></table></figure>
<p>å¯ä»¥çœ‹åˆ°ï¼Œåœ¨è¿™ä¸ªä¾‹å­ä¸­ï¼Œæˆ‘ä»¬æœ‰ä¸€ä¸ªè§†å›¾æ¨¡å‹å°† <code>googleString</code> è¿™ä¸ª <code>subject</code> æš´éœ²å‡ºæ¥ã€‚è®© <code>ViewController</code> èƒ½å¤Ÿè®¢é˜…ã€‚æˆ‘ä»¬å°†è¿™ä¸ª <code>observable</code> ç»‘å®šåˆ°è¿™ä¸ª <code>subject</code> ä¸Š, è¿™æ ·æˆ‘ä»¬å°±å¯ä»¥åœ¨ç½‘ç»œè¯·æ±‚æœ‰ç»“æœçš„æ—¶å€™, ç«‹é©¬å°†è¯·æ±‚ç»“æœä¼ é€’åˆ°è¿™ç»™ <code>subject</code>ã€‚</p>
<h3 id="Bonus-Variable"><a href="#Bonus-Variable" class="headerlink" title="Bonus: Variable"></a>Bonus: Variable</h3><p>è·ç¦»å®Œå®Œå…¨å…¨çš„ Rx è¿˜å·®æœ€åä¸€ç‚¹äº†ã€‚å¼ºè¡Œçš„è·å–ä¹‹å‰å‘é€å‡ºæ¥çš„å€¼ã€‚</p>
<p>è¿™å°±æ˜¯ä¸ºä»€ä¹ˆä¼šæœ‰ <strong>Variable</strong> è¿™ä¸ªä¸œè¥¿äº†ã€‚Variable æ˜¯å¯¹ BehaviorSubject çš„ç®€å•åŒ…è£…ã€‚<a href="https://github.com/ReactiveX/RxSwift/blob/master/RxSwift/Subjects/Variable.swift" target="_blank" rel="external">å¯ä»¥çœ‹ä¸€ä¸‹</a> å®ƒçš„å®ç°æ˜¯éå¸¸ç®€å•çš„ã€‚ä½†å®ƒå´éå¸¸çš„æ–¹ä¾¿ã€‚</p>
<p>è¿˜æ˜¯ç”¨ä¸€ä¸ªå°ä¾‹å­æ¥è¯´æ˜è¿™ä¸ªé—®é¢˜å§ã€‚åœ¨è¿™ä¸ªä¾‹å­ä¸­, æˆ‘ä»¬éœ€è¦åœ¨ä»»ä½•æ—¶é—´éƒ½å¯ä»¥å¾—åˆ° â€œgoogleStringâ€ â€œå½“å‰â€ çš„å€¼ã€‚</p>
<figure class="highlight swift"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">let</span> googleString = <span class="type">Variable</span>(<span class="string">"currentString"</span>)</div><div class="line"><span class="comment">// get</span></div><div class="line"><span class="built_in">print</span>(googleString.value)</div><div class="line"><span class="comment">// set</span></div><div class="line">googleString.value = <span class="string">"newString"</span></div><div class="line"><span class="comment">// è®¢é˜…</span></div><div class="line">googleString.asObservable().subscribe(onNext: &#123; (text) <span class="keyword">in</span></div><div class="line">    <span class="built_in">print</span>(text)</div><div class="line">&#125;).addDisposableTo(disposeBag)</div></pre></td></tr></table></figure>
<p>ä½ ä¸€å®šä¼šçˆ±ä¸Šä»–çš„ã€‚è¿™åŸºæœ¬ä¸Šå°±æ˜¯ <strong>RxSwift</strong> çš„ç®€å•æ¨¡å¼äº†ã€‚</p>
<p>çœ‹èµ·æ¥å¾ˆç®€å•å§ï¼Œä½†æ˜¯åˆ«å¿˜äº†ï¼Œè¿˜æ˜¯æœ‰å¾ˆå¤šçš„å‘çš„ã€‚è¿˜æ˜¯å°å¿ƒä¸ºä¸Šã€‚ä¸‹ä¸€ç¯‡æ–‡ç« æˆ‘ä¼šè®²è®²: æ€ä¹ˆå†™ Rxswift æœ€ä¿é™©ã€‚</p>
<h3 id="Thatâ€™s-it"><a href="#Thatâ€™s-it" class="headerlink" title="Thatâ€™s it!"></a>Thatâ€™s it!</h3><p>ä½ çŸ¥é“äº†å¤ªå¤šäº†ã€‚å‰©ä¸‹çš„å°±æ˜¯ <code>Subjects</code> äº†</p>
<p><a href="http://swiftpearls.com/RxSwift-for-dummies-3-Subjects.html" target="_blank" rel="external">åŸæ–‡åœ°å€</a></p>
<h3 id="æœ€å"><a href="#æœ€å" class="headerlink" title="æœ€å"></a>æœ€å</h3><p>æˆ‘æ˜¯ä¸€åæ¥è‡ªä¸­å›½çš„ iOS ç¨‹åºå‘˜, å¯¹æŠ€æœ¯æœ‰ç€æµ“åšçš„å…´è¶£, åœ¨å­¦ä¹ çš„è¿‡ç¨‹ä¸­, å‘ç°äº†å¾ˆå¤šæ¥è‡ªå›½å¤–çš„ä¼˜ç§€åšå®¢ã€‚ä¸ºäº†æ›´å¥½çš„å­¦ä¹ è¿™äº›æ–‡ç« , äº§ç”Ÿäº†å°†è¿™äº›æ–‡ç« ç¿»è¯‘æˆä¸­æ–‡çš„æƒ³æ³•ã€‚</p>

            
        
        </div>
        
            
            
        
    </article>
    
        
    <nav class="article-page">
        
            <a href="/2017/05/07/RxSwift Safety Manual/" id="art-left" class="art-right">
                <span class="next-title">
                    RxSwift Safety Manual ğŸ“š<i class="iconfont icon-right"></i> 
                </span>
            </a>
        
        
            <a href="/2017/05/07/RxSwift For Dummies Part2/" id="art-right" class="art-left">
                <span class="prev-title"> 
                    <i class="iconfont icon-left"></i>RxSwift For Dummies ğŸ£ Part2
                </span>
            </a>
        
    </nav>

        
    


        </main>
        <footer class="footer syuanpi fadeIn" id="footer">
    <hr>
    <div class="footer-wrapper">
        <div class="left">
            <div class="contact-icon">
    
    
    
    
    
    
    
    
</div>
        </div>
        <div class="right">
            <div class="copyright">
    <div class="info">
        <span>&copy;</span>
        <span>1970 ~ 2017</span>
        <span>â¤</span>
        <span>CepheusSun</span>
    </div>
    <div class="theme">
        <span>
            Powered by
            <a href="http://hexo.io/" target="_blank">Hexo </a>
        </span>
        <span>
            Theme
            <a href="https://github.com/ColMugX/hexo-theme-Nlvi"> Nlvi </a>
        </span>
    </div>
    
</div>
        </div>
    </div>
</footer>
    </div>
    <script src="/script/nlvi.js"></script>

    <script src="/lightbox/js/lightbox.min.js"></script>

<script>
$(document).ready(function(){
    document.body.addEventListener('touchstart', function () {});
    $('.progress').hide();
    $('.body').show();
    Nlvi.tagcloud();
    Nlvi.back2top();
    Nlvi.showToc();
    Nlvi.showComments();
    Nlvi.showReward()

    !CONFIG.animate && Nlvi.offAnimate();
    CONFIG.lightbox && Nlvi.onPicBox();
})
</script>
    </div>
    
        
    
    <div class="backtop syuanpi dead toTop" id="backtop">
    <i class="iconfont icon-up"></i>
    <span style="text-align:center;font-family:Georgia;"><span style="font-family:Georgia;" id="scrollpercent">1</span>%</span>
</div>
</body>
</html>
