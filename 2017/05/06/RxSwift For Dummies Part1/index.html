<!DOCTYPE html>
<html lang="en">

<!-- Head tag -->
<head>

    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">

    <!--Description-->
    
        <meta name="description" content="RxSwift çœŸçš„æ˜¯ä¸€ä¸ªéå¸¸å€¼å¾—å­¦ä¹ çš„ä¸œè¥¿ã€‚éå¸¸é—æ†¾çš„æ˜¯æˆ‘æ²¡æœ‰ç ”ç©¶æ‰€æœ‰çš„æ¶æ„æ¨¡å¼MVVM VIPER Routingã€‚
è¦éå¸¸å¥½çš„è®²å‡ºæ¥RxSwiftåˆ°åº•æ˜¯ä¸ªä»€ä¹ˆä¸œè¥¿ï¼Œæˆ‘ä¹Ÿè¯´ä¸å¥½ã€‚æ¯•ç«Ÿä»–èƒ½åšå¤ªå¤šçš„äº‹æƒ…äº†ã€‚æ™®éè®¤ä¸ºï¼Œä»–æ˜¯å‡½æ•°å“åº”å¼ç¼–ç¨‹ä¸­éå¸¸é‡è¦çš„è§‚å¯Ÿè€…æ¨¡å¼ã€‚åœ¨æœ€åˆçš„å®šä¹‰ä¸­,ä»–å¹¶ä¸å°±æ˜¯å‡½æ•°å“åº”å¼ç¼–ç¨‹ã€‚ä»–æœ€åˆçš„è®¾è®¡çµæ„Ÿå°±æ˜¯æ¥è‡ªäºå‡½æ•°å“åº”å¼(FRP), æ‰€ä»¥ä¹Ÿå¯ä»¥è¯´å®ƒåŒ…å«äº†å‡½æ•°å“åº”å¼çš„ç‰¹æ€§ã€‚
å¦‚æœä½ ä¸çŸ¥é“ä»€ä¹ˆæ˜¯ FRP çš„è¯, ä¸ç”¨æ‹…å¿ƒ, åœ¨è¿™ä¸ªæ•™ç¨‹ä¸­ä½ ä¼šè‡ªç„¶è€Œç„¶çš„ç†è§£ä»€ä¹ˆæ˜¯ FRPã€‚
é€šè¿‡å¯¹ RXSwift çš„æ·±å…¥ç ”ç©¶, æˆ‘å¾—åˆ°äº†å¾ˆå¤šçš„å¯å‘, åŒæ—¶ä¹Ÿè¢«å¾ˆå¤šçš„é—®é¢˜å›°æ‰°ã€‚ç›¸ä¿¡ä½ ä¹Ÿä¼šè¿™æ ·ã€‚
éœ€è¦èŠ±å¾ˆå¤šä¸ªå°æ—¶çš„æ—¶é—´æ¥é€‚åº”æ–°çš„æ€ç»´æ¨¡å¼ï¼Œå”¯ä¸€èƒ½ç¡®å®šçš„æ˜¯ï¼Œä¸€æ—¦ä½ é€‚åº”äº†ï¼Œä½ å°±å†ä¹Ÿä¸æƒ³å›åˆ°ä»å‰äº†ã€‚
åœ¨è¿™ä¸ªæ•™ç¨‹ä¸­ï¼Œæˆ‘ä¼šå°½å¯èƒ½çš„èŠ‚çº¦ä½ çš„æ—¶é—´ï¼Œå¹¶ä¸”è§£é‡Šçš„å°½å¯èƒ½çš„è¯¦ç»†ã€‚æƒ³æ•™å¹¼å„¿å›­çš„å°æœ‹å‹ä¸€æ ·ã€‚
å¼€å§‹å­¦ä¹ ä¹‹å‰, è¯·ç¡®å®šä½ å·²ç»æŒæ¡äº† Swift å’Œ UIkit çš„åŸºç¡€çŸ¥è¯†. 
The Why?å†™ UI çš„æ—¶å€™ç»å¸¸ä¼šå¤„ç†ä¸€äº›å¼‚æ­¥çš„æ“ä½œã€‚æˆ‘ä»¬å¾ˆæ—©å°±çŸ¥é“è¦ä½¿ç”¨è§‚å¯Ÿè€…æ¨¡å¼æ¥å®ç°è¿™ä¸ªä¸œè¥¿ã€‚æˆ‘ç›¸ä¿¡ä½ ç°åœ¨å·²ç»éå¸¸ç†Ÿæ‚‰ä»£ç†æ¨¡å¼äº†ã€‚ä»£ç†æ¨¡å¼æ˜¯ä¸€ç§å¾ˆé…·çš„è®¾è®¡æ¨¡å¼ã€‚ä½†æ˜¯å†™èµ·æ¥çœŸçš„å¾ˆçƒ¦ğŸ˜¡ã€‚



ä»£ç†æ¨¡å¼éœ€è¦äº›å¾ˆå¤šçš„æ¨¡ç‰ˆä»£ç : åˆ›å»ºä¸€ä¸ªåè®®, å£°æ˜ä¸€ä¸ª delegate å˜é‡, éµå®ˆåè®®, è®¾ç½®ä»£ç†â€¦
å†™å®Œè¿™ä¹ˆå¤šæ¨¡ç‰ˆä»£ç ,å¯èƒ½ä½ ä¸å°å¿ƒå°±å¿˜äº†å…¶ä¸­çš„æŸä¸ªæ­¥éª¤ã€‚ æ¯”å¦‚è¯´ object.delegete = self
ç®¡ç†èµ·æ¥éå¸¸éº»çƒ¦ã€‚ä»–éœ€è¦åœ¨å¥½å‡ ä¸ªæ–‡ä»¶ä¸­è·³è·ƒã€‚

RxSwift è§£å†³äº†è¿™ä¸ªé—®é¢˜ã€‚ä»–èƒ½å¤Ÿè®©ä½ é€šè¿‡å£°æ˜çš„æ–¹å¼ä½¿ç”¨è§‚å¯Ÿè€…æ¨¡å¼ã€‚å‡å°‘äº†ç®¡ç†çš„è´Ÿæ‹…, å½“ç„¶ï¼Œä¹Ÿä¸ç”¨å†™é‚£ä¹ˆå¤šæ¨¡ç‰ˆä»£ç ã€‚
æˆ‘åˆšåˆšå¼€å§‹äº†ä¸€ä¸ªé¡¹ç›®ï¼Œåœ¨è¿™ä¸ªé¡¹ç›®ä¸­ï¼Œè‡³ä»Šè¿˜æ²¡æœ‰å†™ä¸€ä¸ª delegate
Basic Exampletalk is cheap, show you the code.
1234567891011121314151617181920class ExampleClass &amp;#123;    let disposeBag = DisposeBag()        func runExample() &amp;#123;        // OBSERVABLE //        let observable = Observable&amp;lt;String&amp;gt;.create &amp;#123; (observer) -&amp;gt; Disposable            DispatchQueue.global(qos: .default).async &amp;#123;                Thread.sleep(forTimeInterval: 10)                observer.onNext(&quot;Hello dummy ğŸ£&quot;)                observer.onCompleted()            &amp;#125;            return Disposables.create()        &amp;#125;        // OBSERVER //                observable.subscribe(onNext:&amp;#123; (element) in            print(element)        &amp;#125;).addDisposableTo(disposeBag)    &amp;#125;&amp;#125;
è¿™å°±æ˜¯æœ€åŸºæœ¬çš„ä¾‹å­, åœ¨è¿™ä¸ªç¤ºä¾‹ä¸­, æˆ‘ä»¬å£°æ˜äº†ä¸€ä¸ª runExample æ–¹æ³•ã€‚åœ¨è¿™ä¸ªæ–¹æ³•ä¸­æ‰§è¡Œçš„æ˜¯ä¸€äº› RxSwift ä¸­çš„äº‹æƒ…ã€‚æƒ³ä¸€ä¸‹åœ¨è¿™ä¸ªä¾‹å­ä¸­å‘ç”Ÿäº†ä»€ä¹ˆå§ã€‚">
    

    <!--Author-->
    
        <meta name="author" content="CepheusSun">
    

    <!--Open Graph Title-->
    
        <meta property="og:title" content="RxSwift For Dummies ğŸ£ Part1"/>
    

    <!--Open Graph Description-->
    

    <!--Open Graph Site Name-->
    <meta property="og:site_name" content="Cepheusç¿»è¯‘ç»„"/>

    <!--Type page-->
    
        <meta property="og:type" content="article" />
    

    <!--Page Cover-->
    

    <meta name="twitter:card" content="summary" />
    

    <!-- Title -->
    
    <title>RxSwift For Dummies ğŸ£ Part1 - Cepheusç¿»è¯‘ç»„</title>

    <!-- Tachyons Core CSS -->
    <link rel="stylesheet" href="//unpkg.com/tachyons/css/tachyons.min.css">

    <!-- Custom Fonts -->
    <link href="//maxcdn.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css" rel="stylesheet" type="text/css">

    <!-- HTML5 Shim and Respond.js IE8 support of HTML5 elements and media queries -->
    <!-- WARNING: Respond.js doesn't work if you view the page via file:// -->
    <!--[if lt IE 9]>
        <script src="//oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script>
        <script src="//oss.maxcdn.com/libs/respond.js/1.4.2/respond.min.js"></script>
    <![endif]-->

    <!-- Custom CSS -->
    <link rel="stylesheet" href="/css/style.css">

    <!-- Google Analytics -->
    


</head>


<body>

<!-- Main Content -->
<!-- Banner -->
<!-- Banner -->
<div class="w-100 bg-1 ph5-ns ph3 text-light">
    
    <nav class="db dt-l w-100 mw8 center border-box pv3">
        <a class="db dtc-l v-mid link dim w-100 w-25-l tc tl-l mb2 mb0-l white" href="/" title="Cepheusç¿»è¯‘ç»„">
            <img src="fa fa-globe" class="dib h3" alt="Cepheusç¿»è¯‘ç»„">
        </a>
        <div class="db dtc-l v-mid w-100 w-75-l tc tr-l">
            
        </div>
    </nav>

    <!-- Title -->
    <div class="w-100 mw8 center vh-40 dt">
        <div class="dtc v-mid white">
            <h1 class="f1-l f2-m tc tc-m tl-ns">RxSwift For Dummies ğŸ£ Part1</h1>
            <p class="f4 fw3 pab-100px tc tc-m tl-ns">2017-05-06</p>
        </div>
    </div>

    <!-- Icon -->
    <div class="relative w-100 mw8 center white dn dn-m db-ns">
        <i class="header-icon fa fa-apple"></i>
    </div>
</div>

<!-- Content -->
<div class="w-100 ph2 ph4-m ph5-l mv5 mv6-l">
    <div class="content">
        <div class="mw8 center">
            <div class="cf">
                <div class="fl w-100 w-70-l mw7 left fw3 lh-copy pr4-ns pr0-m post-content">
                    <!-- Tags Vertical -->
                    
                        <div class="tags-container-vertical">
                            <div class="tags-sub-container">
                                <a class="fw3 ph1 dib" href="/tags/iOS/">#iOS</a> <a class="fw3 ph1 dib" href="/tags/Swift/">#Swift</a> <a class="fw3 ph1 dib" href="/tags/ç¿»è¯‘/">#ç¿»è¯‘</a> <a class="fw3 ph1 dib" href="/tags/Reactive/">#Reactive</a>
                            </div>
                        </div>
                    

                    <!-- Main Post Content -->
                    <p><strong>RxSwift</strong> çœŸçš„æ˜¯ä¸€ä¸ªéå¸¸å€¼å¾—å­¦ä¹ çš„ä¸œè¥¿ã€‚éå¸¸é—æ†¾çš„æ˜¯æˆ‘æ²¡æœ‰ç ”ç©¶æ‰€æœ‰çš„æ¶æ„æ¨¡å¼MVVM VIPER Routingã€‚</p>
<p>è¦éå¸¸å¥½çš„è®²å‡ºæ¥RxSwiftåˆ°åº•æ˜¯ä¸ªä»€ä¹ˆä¸œè¥¿ï¼Œæˆ‘ä¹Ÿè¯´ä¸å¥½ã€‚æ¯•ç«Ÿä»–èƒ½åšå¤ªå¤šçš„äº‹æƒ…äº†ã€‚æ™®éè®¤ä¸ºï¼Œä»–æ˜¯å‡½æ•°å“åº”å¼ç¼–ç¨‹ä¸­éå¸¸é‡è¦çš„è§‚å¯Ÿè€…æ¨¡å¼ã€‚åœ¨æœ€åˆçš„å®šä¹‰ä¸­,ä»–å¹¶ä¸å°±æ˜¯å‡½æ•°å“åº”å¼ç¼–ç¨‹ã€‚ä»–æœ€åˆçš„è®¾è®¡çµæ„Ÿå°±æ˜¯æ¥è‡ªäºå‡½æ•°å“åº”å¼(<strong>FRP</strong>), æ‰€ä»¥ä¹Ÿå¯ä»¥è¯´å®ƒåŒ…å«äº†å‡½æ•°å“åº”å¼çš„ç‰¹æ€§ã€‚</p>
<p>å¦‚æœä½ ä¸çŸ¥é“ä»€ä¹ˆæ˜¯ <strong>FRP</strong> çš„è¯, ä¸ç”¨æ‹…å¿ƒ, åœ¨è¿™ä¸ªæ•™ç¨‹ä¸­ä½ ä¼šè‡ªç„¶è€Œç„¶çš„ç†è§£ä»€ä¹ˆæ˜¯ <strong>FRP</strong>ã€‚</p>
<p>é€šè¿‡å¯¹ RXSwift çš„æ·±å…¥ç ”ç©¶, æˆ‘å¾—åˆ°äº†å¾ˆå¤šçš„å¯å‘, åŒæ—¶ä¹Ÿè¢«å¾ˆå¤šçš„é—®é¢˜å›°æ‰°ã€‚ç›¸ä¿¡ä½ ä¹Ÿä¼šè¿™æ ·ã€‚</p>
<p>éœ€è¦èŠ±å¾ˆå¤šä¸ªå°æ—¶çš„æ—¶é—´æ¥é€‚åº”æ–°çš„æ€ç»´æ¨¡å¼ï¼Œå”¯ä¸€èƒ½ç¡®å®šçš„æ˜¯ï¼Œä¸€æ—¦ä½ é€‚åº”äº†ï¼Œä½ å°±å†ä¹Ÿä¸æƒ³å›åˆ°ä»å‰äº†ã€‚</p>
<p>åœ¨è¿™ä¸ªæ•™ç¨‹ä¸­ï¼Œæˆ‘ä¼šå°½å¯èƒ½çš„èŠ‚çº¦ä½ çš„æ—¶é—´ï¼Œå¹¶ä¸”è§£é‡Šçš„å°½å¯èƒ½çš„è¯¦ç»†ã€‚æƒ³æ•™å¹¼å„¿å›­çš„å°æœ‹å‹ä¸€æ ·ã€‚</p>
<p>å¼€å§‹å­¦ä¹ ä¹‹å‰, è¯·ç¡®å®šä½ å·²ç»æŒæ¡äº† Swift å’Œ UIkit çš„åŸºç¡€çŸ¥è¯†. </p>
<h3 id="The-Why"><a href="#The-Why" class="headerlink" title="The Why?"></a>The Why?</h3><p>å†™ UI çš„æ—¶å€™ç»å¸¸ä¼šå¤„ç†ä¸€äº›å¼‚æ­¥çš„æ“ä½œã€‚æˆ‘ä»¬å¾ˆæ—©å°±çŸ¥é“è¦ä½¿ç”¨è§‚å¯Ÿè€…æ¨¡å¼æ¥å®ç°è¿™ä¸ªä¸œè¥¿ã€‚æˆ‘ç›¸ä¿¡ä½ ç°åœ¨å·²ç»éå¸¸ç†Ÿæ‚‰ä»£ç†æ¨¡å¼äº†ã€‚ä»£ç†æ¨¡å¼æ˜¯ä¸€ç§å¾ˆé…·çš„è®¾è®¡æ¨¡å¼ã€‚ä½†æ˜¯å†™èµ·æ¥çœŸçš„å¾ˆçƒ¦ğŸ˜¡ã€‚</p>
<center><br><img src="http://swiftpearls.com/images/cry.jpg" alt=""><br></center>

<ul>
<li>ä»£ç†æ¨¡å¼éœ€è¦äº›å¾ˆå¤šçš„æ¨¡ç‰ˆä»£ç : åˆ›å»ºä¸€ä¸ªåè®®, å£°æ˜ä¸€ä¸ª <code>delegate</code> å˜é‡, éµå®ˆåè®®, è®¾ç½®ä»£ç†â€¦</li>
<li>å†™å®Œè¿™ä¹ˆå¤šæ¨¡ç‰ˆä»£ç ,å¯èƒ½ä½ ä¸å°å¿ƒå°±å¿˜äº†å…¶ä¸­çš„æŸä¸ªæ­¥éª¤ã€‚ æ¯”å¦‚è¯´ <code>object.delegete = self</code></li>
<li>ç®¡ç†èµ·æ¥éå¸¸éº»çƒ¦ã€‚ä»–éœ€è¦åœ¨å¥½å‡ ä¸ªæ–‡ä»¶ä¸­è·³è·ƒã€‚</li>
</ul>
<p>RxSwift è§£å†³äº†è¿™ä¸ªé—®é¢˜ã€‚ä»–èƒ½å¤Ÿè®©ä½ é€šè¿‡å£°æ˜çš„æ–¹å¼ä½¿ç”¨è§‚å¯Ÿè€…æ¨¡å¼ã€‚å‡å°‘äº†ç®¡ç†çš„è´Ÿæ‹…, å½“ç„¶ï¼Œä¹Ÿä¸ç”¨å†™é‚£ä¹ˆå¤šæ¨¡ç‰ˆä»£ç ã€‚</p>
<p>æˆ‘åˆšåˆšå¼€å§‹äº†ä¸€ä¸ªé¡¹ç›®ï¼Œåœ¨è¿™ä¸ªé¡¹ç›®ä¸­ï¼Œè‡³ä»Šè¿˜æ²¡æœ‰å†™ä¸€ä¸ª <code>delegate</code></p>
<h3 id="Basic-Example"><a href="#Basic-Example" class="headerlink" title="Basic Example"></a>Basic Example</h3><p>talk is cheap, show you the code.</p>
<figure class="highlight swift"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div></pre></td><td class="code"><pre><div class="line"><span class="class"><span class="keyword">class</span> <span class="title">ExampleClass</span> </span>&#123;</div><div class="line">    <span class="keyword">let</span> disposeBag = <span class="type">DisposeBag</span>()</div><div class="line">    </div><div class="line">    <span class="function"><span class="keyword">func</span> <span class="title">runExample</span><span class="params">()</span></span> &#123;</div><div class="line">        <span class="comment">// OBSERVABLE //</span></div><div class="line">        <span class="keyword">let</span> observable = <span class="type">Observable</span>&lt;<span class="type">String</span>&gt;.create &#123; (observer) -&gt; <span class="type">Disposable</span></div><div class="line">            <span class="type">DispatchQueue</span>.global(qos: .<span class="keyword">default</span>).async &#123;</div><div class="line">                <span class="type">Thread</span>.sleep(forTimeInterval: <span class="number">10</span>)</div><div class="line">                observer.onNext(<span class="string">"Hello dummy ğŸ£"</span>)</div><div class="line">                observer.onCompleted()</div><div class="line">            &#125;</div><div class="line">            <span class="keyword">return</span> <span class="type">Disposables</span>.create()</div><div class="line">        &#125;</div><div class="line">        <span class="comment">// OBSERVER //</span></div><div class="line">        </div><div class="line">        observable.subscribe(onNext:&#123; (element) <span class="keyword">in</span></div><div class="line">            <span class="built_in">print</span>(element)</div><div class="line">        &#125;).addDisposableTo(disposeBag)</div><div class="line">    &#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<p>è¿™å°±æ˜¯æœ€åŸºæœ¬çš„ä¾‹å­, åœ¨è¿™ä¸ªç¤ºä¾‹ä¸­, æˆ‘ä»¬å£°æ˜äº†ä¸€ä¸ª runExample æ–¹æ³•ã€‚åœ¨è¿™ä¸ªæ–¹æ³•ä¸­æ‰§è¡Œçš„æ˜¯ä¸€äº› RxSwift ä¸­çš„äº‹æƒ…ã€‚æƒ³ä¸€ä¸‹åœ¨è¿™ä¸ªä¾‹å­ä¸­å‘ç”Ÿäº†ä»€ä¹ˆå§ã€‚</p>
<a id="more"></a>
<h3 id="Observable-ğŸ“¡"><a href="#Observable-ğŸ“¡" class="headerlink" title="Observable ğŸ“¡"></a>Observable ğŸ“¡</h3><p>æˆ‘ä»¬è¿˜æ˜¯ä» RxSwift ä¸­æœ€åŸºæœ¬çš„æ„å»ºå•å…ƒå¼€å§‹å§ã€‚ <code>Observable</code>ã€‚ å®ƒå…¶å®éå¸¸çš„ç®€å•ã€‚ <code>Observable</code> æ‰§è¡ŒæŸäº›åŠ¨ä½œ, ç„¶åè§‚å¯Ÿè€…èƒ½å¤Ÿå¯¹æ­¤ä½œå‡ºä¸€äº›ååº”ã€‚</p>
<figure class="highlight swift"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div></pre></td><td class="code"><pre><div class="line"> <span class="keyword">let</span> observable = <span class="type">Observable</span>&lt;<span class="type">String</span>&gt;.create &#123; (observer) -&gt; <span class="type">Disposable</span></div><div class="line">    <span class="type">DispatchQueue</span>.global(qos: .<span class="keyword">default</span>).async &#123;</div><div class="line">        <span class="comment">// Simulate some work</span></div><div class="line">        <span class="type">Thread</span>.sleep(forTimeInterval: <span class="number">10</span>)</div><div class="line">        observer.onNext(<span class="string">"Hello dummy ğŸ£"</span>)</div><div class="line">        observer.onCompleted()</div><div class="line">    &#125;</div><div class="line">    <span class="keyword">return</span> <span class="type">Disposables</span>.create()</div><div class="line">&#125;</div><div class="line">                </div><div class="line">observable.subscribe(onNext:&#123; (element) <span class="keyword">in</span></div><div class="line">    <span class="built_in">print</span>(element)</div><div class="line">&#125;).addDisposableTo(disposeBag)</div></pre></td></tr></table></figure>
<p>ç°åœ¨æˆ‘ä»¬æœ‰äº†ä¸€ä¸ª <code>Observable</code> ä¿¡å·äº†ã€‚è¿™ç§ä¿¡å·åªæœ‰åœ¨è¢«è®¢é˜…ä¹‹åæ‰ä¼šæ‰§è¡Œå®ƒä¹Ÿè¢«å«åš:å†·ä¿¡å·â„ï¸ã€‚ç›¸åçƒ­ä¿¡å·ğŸ”¥æ˜¯é‚£ç§æ—¢æ˜¯æ²¡æœ‰è¢«è®¢é˜…ä¹Ÿä¼šæ‰§è¡Œçš„ä¿¡å·ã€‚</p>
<p>åœ¨ä¸‹ä¸€æ­¥ä»¬æˆ‘ä»¬ä¼šå…·ä½“çš„è®²è§£äºŒè€…çš„åŒºåˆ«ã€‚ç°åœ¨ä½ åªéœ€è¦ç†è§£çš„æ˜¯: å› ä¸ºä½ åˆå§‹åŒ–å‡ºæ¥çš„æ˜¯ä¸€ä¸ªå†·â„ï¸ä¿¡å·<code>Hello dummy ğŸ£</code>è¿™ä¸ªå€¼æ˜¯ä¸ä¼šè¢«å‘é€å‡ºæ¥çš„ã€‚å†·ä¿¡å·â„ï¸åªæœ‰åœ¨æœ‰ä¸œè¥¿è®¢é˜…ä¹‹åæ‰ä¼šå‘é€æ¶ˆæ¯ã€‚</p>
<p>æˆ‘ä»¬ä¸€æ­¥ä¸€æ­¥çš„æ¥åˆ†æä¸€ä¸‹è¿™ç©¶ç«Ÿæ˜¯ä»€ä¹ˆæ„æ€ã€‚</p>
<figure class="highlight swift"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line"><span class="type">DispatchQueue</span>.global(qos: .<span class="keyword">default</span>).async &#123;...&#125;</div></pre></td></tr></table></figure>
<p>è¿™è¡Œä»£ç ä¿è¯è¿™ä¸ª <code>Observable</code> ä¿¡å·åœ¨ä¸»çº¿ç¨‹ä¸­å‘é€æ¶ˆæ¯ã€‚å…¶å® RxSwift æ˜¯æœ‰ä¸€ä¸ªè°ƒåº¦æœºåˆ¶, ä½†æ˜¯æˆ‘ç°åœ¨è¿˜ä¸æƒ³é‚£ä¹ˆæ—©å‘Šè¯‰ä½ , ä¸ç„¶ä½ è¯¥è®°ä¸å€¼äº†ã€‚</p>
<figure class="highlight swift"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">observer.onNext(<span class="string">"Hello dummy ğŸ£"</span>)</div></pre></td></tr></table></figure>
<p>ä¸€ä¸ª <code>Observable</code> ä¿¡å·å‘å‡ºçš„æ¶ˆæ¯ä»æ—¶é—´ä¸Šæ¥çœ‹, å¯ä»¥è¢«çœ‹ä½œæ˜¯ä¸€ä¸ª <strong>åºåˆ—</strong>ã€‚åœ¨è¿™ä¸ªåºåˆ—ä¸­å¯èƒ½æœ‰æ— é™å¤šçš„å€¼ã€‚æˆ‘ä»¬å¯ä»¥é€šè¿‡ <code>onNext</code> æ–¹æ³•ç±»å°†è¿™äº›å€¼å‘é€å‡ºæ¥ã€‚</p>
<figure class="highlight swift"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">observer.onCompleted()</div></pre></td></tr></table></figure>
<p>å½“è¿™ä¸ªåºåˆ—å·²ç»å‘é€å®Œäº†æ‰€æœ‰çš„å€¼ä¹‹åï¼Œå®ƒå¯ä»¥å‘é€ä¸€ä¸ª <code>Completed</code> æˆ–è€… <code>Error</code>å‡ºæ¥ã€‚ä¹‹åè¿™ä¸ªä¿¡å·å°±ä¸èƒ½åœ¨äº§ç”Ÿæ›´å¤šçš„å€¼äº†, ç„¶åå°±ä¼šéšç€ä¸€ä¸ªé—­åŒ…è¢«é‡Šæ”¾æ‰ã€‚</p>
<figure class="highlight swift"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">return</span> <span class="type">Disposables</span>.create()</div></pre></td></tr></table></figure>
<p>æ¯ä¸€ä¸ª  <code>Observable</code> ä¿¡å·éƒ½è¦è¿”å›ä¸€ä¸ª <code>Disposable</code>.</p>
<p>ä½¿ç”¨ <code>Disposables.create()</code> å¦‚æœä½ ä¸æƒ³åœ¨ä¿¡å·è¢«é‡Šæ”¾çš„æ—¶å€™å¤„ç†å…¶ä»–äº‹æƒ…ã€‚ä½ å¯ä»¥çœ‹çœ‹<a href="https://github.com/ReactiveX/RxSwift/blob/master/RxSwift/Disposables/NopDisposable.swift" target="_blank" rel="external">NopDisposable</a>çš„å®ç°ï¼Œä½ ä¼šå‘ç°ï¼Œä»–ä»€ä¹ˆäº‹æƒ…éƒ½æ²¡æœ‰åšï¼Œåªæ˜¯ä¸€äº›ç©ºæ–¹æ³•ã€‚</p>
<h3 id="Disposable"><a href="#Disposable" class="headerlink" title="Disposable"></a>Disposable</h3><p><code>Disposable</code> å¯¹è±¡å¿…é¡»è¦åœ¨ <code>Observable</code> ä¸­è¿”å›, å®ƒæ˜¯ç”¨æ¥åœ¨<code>Observable</code>ä¸èƒ½å†æ­£å¸¸çš„å®Œæˆçš„æ—¶å€™æ¸…é™¤æ‰è¿™äº›ä¿¡å·çš„ã€‚æ¯”å¦‚è¯´ä½ å¯ä»¥ä½¿ç”¨ <strong>AnonymousDisposable</strong>:</p>
<figure class="highlight swift"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">return</span> <span class="type">Disposables</span>.create(with: &#123;</div><div class="line">    connection.close()</div><div class="line">    database.closeImportantSomething()</div><div class="line">    cache.clear()</div><div class="line">&#125;)</div></pre></td></tr></table></figure>
<p>åªæœ‰å½“ä¿¡å·è¢«æå‰é‡Šæ”¾æˆ–è€…ç¨‹åºæ‰‹åŠ¨è°ƒç”¨äº† <code>dispose()</code> æ–¹æ³•, <code>Disposable</code> æ‰ä¼šè¢«è°ƒç”¨ã€‚ä½†æ˜¯åœ¨å¤šæ•°æƒ…å†µä¸‹, <code>dispose()</code> æ–¹æ³•éƒ½æ˜¯é€šè¿‡ <strong>Dispose Bags</strong> è‡ªåŠ¨è°ƒç”¨çš„ã€‚åˆ«ç€æ€¥ï¼Œä½ å¯ä»¥åœ¨ä¸€äº›æ›´å…·ä½“çš„ä¾‹å­ä¸­è‡ªå·±å®ç°è¿™ä¸ªä¸œè¥¿ã€‚</p>
<h3 id="Observer-ğŸ•µ"><a href="#Observer-ğŸ•µ" class="headerlink" title="Observer ğŸ•µ"></a>Observer ğŸ•µ</h3><p>æˆ‘ä»¬åˆ›å»ºçš„ <code>Observable</code> æ˜¯å†·ä¿¡å·â„ï¸ã€‚ é™¤éæˆ‘ä»¬è®¢é˜…äº†å®ƒï¼Œä¸ç„¶å®ƒæ˜¯ä¸ä¼šå‘é€ä¿¡å·çš„ã€‚</p>
<figure class="highlight swift"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">let</span> disposeBag = <span class="type">DisposeBag</span>()</div><div class="line"></div><div class="line">...</div><div class="line"></div><div class="line">observable.subscribe(onNext: &#123;(element) <span class="keyword">in</span></div><div class="line">  <span class="built_in">print</span>(element)</div><div class="line">&#125;).addDisposableTo(disposeBag)</div></pre></td></tr></table></figure>
<p>è¿™å°±æ˜¯è®¢é˜…ä¿¡å·çš„æ–¹æ³•ã€‚åœ¨ <code>subscribeNext</code> æ–¹æ³•ä¸­ä¸€ä¸ªè®¢é˜…å°±å‘ç”Ÿäº†ã€‚è¿™ä¸ªæ–¹æ³•ä¹Ÿä¼šè¿”å›ä¸€ä¸ª <code>Disposable</code>.è¿™ä¸ª <code>Disposable</code> å°±æ˜¯å¯¹è¿™ä¸ªè®¢é˜…çš„è®°å½•</p>
<p>è¿™ä¸ª <code>Observable</code> å°±å¼€å§‹å·¥ä½œäº†, 10ç§’ä¹‹å, ä½ å°±ä¼šåœ¨æ§åˆ¶å°çœ‹è§</p>
<blockquote>
<p>Hello dummy ğŸ£</p>
</blockquote>
<p><code>subscribe(onNext:)</code> åªä¼šåœ¨Nextäº‹ä»¶å‘é€å‡ºæ¥çš„æ—¶å€™å“åº”ã€‚ä¹Ÿå¯ä»¥ä½¿ç”¨ <code>subscribe(onCompleted:)</code> å’Œ <code>subscribe(onError:)</code> å“åº”å¯¹åº”çš„äº‹ä»¶ã€‚</p>
<h3 id="Dispose-Bag-ğŸ—‘"><a href="#Dispose-Bag-ğŸ—‘" class="headerlink" title="Dispose Bag ğŸ—‘"></a>Dispose Bag ğŸ—‘</h3><p>å”¯ä¸€ä¸€ä¸ªè¿˜æœ‰ç‚¹ç¥ç§˜çš„ä¸œè¥¿å°±æ˜¯ <code>addDisposableTo</code> è¿™ä¸ªæ–¹æ³•äº†ã€‚</p>
<blockquote>
<p>Dispose bags are used to return ARC like behavior to RX. When a DisposeBag is deallocated, it will call dispose on each of the added disposables.</p>
<p>Dispose bags å°±åƒæ˜¯ä¸€ä¸ªåƒåœ¾ç­ã€‚å°±åƒæ˜¯ AutoreleasePool ä¸€æ ·ï¼Œå½“è¿™ä¸ªåƒåœ¾ç­è¢«é‡Šæ”¾çš„æ—¶å€™, é‡Œé¢çš„æ‰€æœ‰ä¸œè¥¿éƒ½ä¼šè¢«é‡Šæ”¾æ‰ã€‚</p>
</blockquote>
<p>å½“ä½ è®¢é˜…ä¸€ä¸ªä¿¡å·çš„æ—¶å€™, ä½ å°±éœ€è¦æŠŠä½ åˆ›å»ºå‡ºæ¥çš„ <code>Disposable</code> æ·»åŠ åˆ°è¿™ä¸ªæ¡†é‡Œé¢ã€‚å½“è¿™çš„æ¡†è¢«é‡Šæ”¾çš„æ—¶å€™(ExampleClass å¯¹è±¡ dealloc çš„æ—¶å€™)ã€‚è¿™äº›æ²¡æœ‰æ‰§è¡Œå®Œçš„<code>Disposable</code>å°±ä¼šè¢«é‡Šæ”¾æ‰ã€‚</p>
<p>å®ƒè¢«ç”¨ä½œé‡Šæ”¾åœ¨é—­åŒ…ä¸­å¼•ç”¨çš„å€¼, ä»¥åŠæ²¡ç”¨çš„èµ„æº, æ¯”å¦‚è¯´, ä¸€ä¸ª HTTP ç½‘ç»œè¿æ¥, æ•°æ®åº“è¿æ¥, æˆ–è€…æ˜¯ç¼“å­˜çš„å¯¹è±¡ã€‚</p>
<p>å¦‚æœä½ è¿˜æ˜¯ä¸æ‡‚, ä¸€ä¼šå„¿å†ä¸¾ä¸€ä¸ªä¾‹å­ã€‚</p>
<h3 id="Observable-operators"><a href="#Observable-operators" class="headerlink" title="Observable operators"></a>Observable operators</h3><p><code>create</code> åªæ˜¯ä¿¡å·è¯¸å¤šæ“ä½œæ–¹æ³•ä¸­çš„ä¸€ä¸ªè€Œå·²ï¼Œå®ƒè¢«ç”¨æ¥åˆ›å»ºä¸€ä¸ªæ–°çš„ä¿¡å·ã€‚å¯ä»¥çœ‹ä¸€ä¸‹ ReactiveX<br>çš„<a href="http://reactivex.io/documentation/operators.html" target="_blank" rel="external">å®˜æ–¹æ–‡æ¡£</a>ã€‚å“ªé‡Œæœ‰æ‰€æœ‰çš„æ“ä½œæ–¹æ³•ã€‚æˆ‘åªæ˜¯ä¸¾ä¸€äº›å¸¸è§çš„ä¾‹å­ã€‚</p>
<h4 id="Just"><a href="#Just" class="headerlink" title="Just"></a>Just</h4><figure class="highlight swift"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">let</span> observable = <span class="type">Observable</span>&lt;<span class="type">String</span>&gt;.just(<span class="string">"Hello again dummy ğŸ¥"</span>);</div><div class="line">observable.subscribe(onNext: &#123; (element) <span class="keyword">in</span></div><div class="line">    <span class="built_in">print</span>(element)</div><div class="line">&#125;).addDisposableTo(disposeBag)</div><div class="line">        </div><div class="line">observable.subscribe(onCompleted: &#123; </div><div class="line">    <span class="built_in">print</span>(<span class="string">"I'm done"</span>)</div><div class="line">&#125;).addDisposableTo(disposeBag)</div></pre></td></tr></table></figure>
<blockquote>
<p>Hello again dummy ğŸ¥<br>Iâ€™m done</p>
</blockquote>
<p><strong>Just</strong> just åˆ›å»ºäº†ä¸€ä¸ªæ™ºèƒ½é‡Šæ”¾ä¸€ä¸ªå€¼çš„ä¿¡å·ã€‚æ‰€ä»¥åœ¨è¿™ä¸ªä¿¡å·åºåˆ—ä¸­çš„äº‹ä»¶ï¼Œæ˜¯è¿™æ ·çš„:</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">.Next(&quot;Hello&quot;) -&gt;  .Completed</div></pre></td></tr></table></figure>
<h4 id="Interval"><a href="#Interval" class="headerlink" title="Interval"></a>Interval</h4><figure class="highlight swift"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">let</span> observable = <span class="type">Observable</span>&lt;<span class="type">Int</span>&gt;.interval(<span class="number">0.3</span>, scheduler: <span class="type">MainScheduler</span>.instance)</div><div class="line">observable.subscribe(onNext: &#123; (element) <span class="keyword">in</span></div><div class="line">   <span class="built_in">print</span>(element)</div><div class="line">&#125;).addDisposableTo(disposeBag)</div></pre></td></tr></table></figure>
<blockquote>
<p>0<br>1<br>2<br>3<br>â€¦</p>
</blockquote>
<p><strong>Interval</strong> æ˜¯ä¸€ä¸ªéå¸¸å…·ä½“çš„æ“ä½œç¬¦å·ã€‚åœ¨è¿™ä¸ªä¾‹å­ä¸­, å®ƒä» 0 æ¯0.3ç§’é€’å¢, <code>scheduler</code> æ˜¯ç”¨æ¥å®šä¹‰å¼‚æ­¥è¡Œä¸ºçš„ã€‚</p>
<h4 id="Repeat"><a href="#Repeat" class="headerlink" title="Repeat"></a>Repeat</h4><figure class="highlight swift"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">let</span> observable = <span class="type">Observable</span>&lt;<span class="type">String</span>&gt;.repeatElement(<span class="string">"This is fun ğŸ™„"</span>)</div><div class="line">observable.subscribe(onNext: &#123; (element) <span class="keyword">in</span></div><div class="line">   <span class="built_in">print</span>(element)</div><div class="line">&#125;).addDisposableTo(disposeBag)</div></pre></td></tr></table></figure>
<blockquote>
<p>This is fun ğŸ™„<br>This is fun ğŸ™„<br>This is fun ğŸ™„<br>This is fun ğŸ™„<br>â€¦</p>
</blockquote>
<p><strong>repeat</strong> ä¼šæ— é™çš„é‡å¤æˆ‘ä»¬ç»™å®šçš„å€¼ã€‚ä½ å¯ä»¥é€šè¿‡å®šä¹‰ <code>scheduler</code> ç±»å‹çš„æ–¹æ³•æ¥æ§åˆ¶çº¿ç¨‹çš„è¡Œä¸ºã€‚</p>
<p>ç›®å‰ä¸ºæ­¢, å¯èƒ½éƒ½ä¸æ˜¯éå¸¸çš„ç»™åŠ›ã€‚ä½†æ˜¯çŸ¥é“å…¶ä»–çš„æ“ä½œæ˜¯å¿…è¦çš„ã€‚å¦å¤–ä¸€ä»¶å¾ˆé‡è¦çš„äº‹æƒ…æ¶˜ï¼Œè¿™æ˜¯ RxSwift æœ€æœ‰ç”¨çš„ä¸€éƒ¨åˆ†ã€‚</p>
<h3 id="Real-life-example"><a href="#Real-life-example" class="headerlink" title="Real life example"></a>Real life example</h3><p>ç°åœ¨æˆ‘ä»¬å¼€å§‹å¿«é€Ÿçš„é€šè¿‡ä¸€ä¸ªä¾‹å­å·©å›ºä¸€ä¸‹è¿™äº›çŸ¥è¯†ã€‚æˆ‘ä»¬å¯¹ RxSwift çš„äº†è§£ç›®å‰ä¸ºæ­¢æ˜¯éå¸¸æœ‰é™çš„ã€‚æ‰€æœ‰æˆ‘ä»¬å…ˆä½¿ç”¨ä¸€ä¸ªç®€å•çš„ MVC çš„ä¾‹å­ã€‚æˆ‘ä»¬å…ˆåˆ›å»ºä¸€ä¸ªæ¨¡å‹ï¼Œ å®ƒå¯ä»¥ä» google ä¸Šè·å–æ•°æ®ã€‚</p>
<figure class="highlight swift"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">import</span> Foundation</div><div class="line"><span class="keyword">import</span> RxCocoa</div><div class="line"><span class="keyword">import</span> RxSwift</div><div class="line"></div><div class="line"><span class="keyword">final</span> <span class="class"><span class="keyword">class</span> <span class="title">GoogleModel</span> </span>&#123;</div><div class="line">    </div><div class="line">    <span class="function"><span class="keyword">func</span> <span class="title">createGoogleDataObservable</span><span class="params">()</span></span> -&gt; <span class="type">Observable</span>&lt;<span class="type">String</span>&gt; &#123;</div><div class="line">        <span class="keyword">return</span> <span class="type">Observable</span>&lt;<span class="type">String</span>&gt;.create(&#123; (observer) -&gt; <span class="type">Disposable</span> <span class="keyword">in</span></div><div class="line">            </div><div class="line">            <span class="keyword">let</span> session = <span class="type">URLSession</span>.shared</div><div class="line">            <span class="keyword">let</span> task = session.dataTask(with: <span class="type">URL</span>(string: <span class="string">"https://www.google.com"</span>)!) &#123; (data, response, error) <span class="keyword">in</span></div><div class="line">                </div><div class="line">                <span class="comment">// æˆ‘ä»¬éœ€è¦åœ¨ä¸»çº¿ç¨‹ä¸­æ›´æ–°</span></div><div class="line">                <span class="type">DispatchQueue</span>.main.async &#123;</div><div class="line">                    <span class="keyword">if</span> <span class="keyword">let</span> err = error &#123;</div><div class="line">                        <span class="comment">// å¦‚æœè¯·æ±‚å¤±è´¥, ç›´æ¥å‘å¤„å¤±è´¥çš„äº‹ä»¶</span></div><div class="line">                        observer.onError(err)</div><div class="line">                    &#125; <span class="keyword">else</span> &#123;</div><div class="line">                        <span class="comment">// è§£ææ•°æ®</span></div><div class="line">                        <span class="keyword">if</span> <span class="keyword">let</span> googleString = <span class="type">String</span>(data: data!, encoding: .ascii) &#123;</div><div class="line">                            <span class="comment">// å°†æ•°æ®å‘é€å‡ºå»</span></div><div class="line">                            observer.onNext(googleString)</div><div class="line">                        &#125; <span class="keyword">else</span> &#123;</div><div class="line">                            <span class="comment">// å¦‚æœè§£æå¤±è´¥å‘é€å¤±è´¥çš„äº‹ä»¶</span></div><div class="line">                            observer.onNext(<span class="string">"Error! Unable to parse the response data from google!"</span>)</div><div class="line">                        &#125;</div><div class="line">                        <span class="comment">// ç»“æŸè¿™ä¸ªåºåˆ—</span></div><div class="line">                        observer.onCompleted()</div><div class="line">                    &#125;</div><div class="line">                &#125;</div><div class="line">            &#125;</div><div class="line">            task.resume()</div><div class="line">            </div><div class="line">            <span class="comment">// è¿”å›ä¸€ä¸ª AnonymousDisposable</span></div><div class="line">            <span class="keyword">return</span> <span class="type">Disposables</span>.create(with: &#123;</div><div class="line">                <span class="comment">// å–æ¶ˆè¯·æ±‚</span></div><div class="line">                task.cancel()</div><div class="line">            &#125;)</div><div class="line">        &#125;)</div><div class="line">    &#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<p>è¿™æ˜¯éå¸¸ç®€å•çš„ã€‚ <code>createGoogleDataObservable</code>ä¸­æˆ‘ä»¬åˆ›å»ºäº†ä¸€ä¸ªå¯ä»¥è¢«è®¢é˜…çš„ä¿¡å·ã€‚è¿™ä¸ªä¿¡å·åˆ›å»ºäº†ä¸€ä¸ªä» google è·å–æ•°æ®çš„ä»»åŠ¡ã€‚</p>
<figure class="highlight swift"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line"><span class="type">DispatchQueue</span>.main.async &#123;...&#125;</div></pre></td></tr></table></figure>
<p>URLSession çš„ä»»åŠ¡æ˜¯åœ¨åå°çº¿ç¨‹ä¸­è¿›è¡Œçš„, æ‰€ä»¥æˆ‘ä»¬éœ€è¦åœ¨ UI çº¿ç¨‹ä¸­æ›´æ–°ã€‚è®°ä½è¿˜æœ‰ä¸€ä¸ª <code>schedulers</code> è¿™ä¼šåœ¨æ›´é«˜çº§çš„é˜¶æ®µä»‹ç»å‡ºæ¥ã€‚</p>
<figure class="highlight swift"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">return</span> <span class="type">Disposables</span>.create(with: &#123;</div><div class="line"> task.cancel()</div><div class="line">&#125;)</div></pre></td></tr></table></figure>
<p><code>Disposable</code> æ˜¯ä¸€ä¸ªç»™é•¿ç»™åŠ›çš„æœºåˆ¶ï¼š å¦‚æœè®¢é˜…è€…åœæ­¢è®¢é˜…è¿™ä¸ªä¿¡å·äº†ã€‚è¿™ä¸ªä»»åŠ¡å°±ä¼šè¢«å–æ¶ˆã€‚</p>
<p>æ¥ä¸‹æ¥æ˜¯è®¢é˜…è€…è¿™éƒ¨åˆ†çš„å†…å®¹äº†ã€‚</p>
<figure class="highlight swift"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">import</span> UIKit</div><div class="line"><span class="keyword">import</span> RxCocoa</div><div class="line"><span class="keyword">import</span> RxSwift</div><div class="line"></div><div class="line"><span class="class"><span class="keyword">class</span> <span class="title">ViewController</span>: <span class="title">UIViewController</span> </span>&#123;</div><div class="line"></div><div class="line"></div><div class="line">    <span class="comment">// é€šå¸¸å°±æ˜¯è¿™æ ·åˆ›å»º DisposeBag çš„</span></div><div class="line">    <span class="comment">// å½“è¿™ä¸ª controller è¢«é‡Šæ”¾æ‰çš„æ—¶å€™ï¼Œdisposebag</span></div><div class="line">    <span class="comment">// ä¹Ÿä¼šé‡Šæ”¾æ‰, å¹¶ä¸”æ‰€æœ‰ bag ä¸­çš„å…ƒç´ éƒ½ä¼šè°ƒç”¨ dispose() æ–¹æ³•</span></div><div class="line">    <span class="keyword">let</span> disposeBag = <span class="type">DisposeBag</span>()</div><div class="line">    <span class="keyword">let</span> model = <span class="type">GoogleModel</span>()</div><div class="line">    </div><div class="line">    <span class="meta">@IBOutlet</span> <span class="keyword">weak</span> <span class="keyword">var</span> googleText: <span class="type">UITextView</span>!</div><div class="line">    </div><div class="line">    <span class="keyword">override</span> <span class="function"><span class="keyword">func</span> <span class="title">viewDidLoad</span><span class="params">()</span></span> &#123;</div><div class="line">        <span class="keyword">super</span>.viewDidLoad()</div><div class="line">        </div><div class="line">        <span class="comment">// è®°ä½ä½¿ç”¨ [weak self] æˆ–è€… [unowned self] æ¥é¿å…å¾ªç¯å¼•ç”¨</span></div><div class="line">        model.createGoogleDataObservable()</div><div class="line">            .subscribe(onNext: &#123; [<span class="keyword">weak</span> <span class="keyword">self</span>] (element) <span class="keyword">in</span></div><div class="line">                <span class="keyword">self</span>?.googleText.text = element</div><div class="line">            &#125;).addDisposableTo(disposeBag)</div><div class="line">    &#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<p>ç¥å¥‡å—ï¼Ÿæ²¡æœ‰åè®®, æ²¡æœ‰ä»£ç†ã€‚åªæ˜¯å£°æ˜äº†ä¸€ä¸‹åœ¨ä¸€ä¸ªäº‹æƒ…å‘ç”Ÿçš„æ—¶å€™åº”è¯¥åšä»€ä¹ˆã€‚</p>
<p>åœ¨é—­åŒ…ä¸­è®°å¾—ä½¿ç”¨ <code>[weak self]</code> æˆ–è€… <code>[unowned self]</code> æ¥é¿å…å¾ªç¯å¼•ç”¨</p>
<p>è¿˜æœ‰ä¸€ç§æ›´å“åº”å¼çš„æ–¹æ³•æ¥ä¸º <code>UITextView</code> ç»‘å®šæ–‡æœ¬, ç»‘å®šã€‚ä½†é‚£æ˜¯æ›´é«˜çº§çš„å†…å®¹ã€‚</p>
<h3 id="Dispose-Bag-Example"><a href="#Dispose-Bag-Example" class="headerlink" title="Dispose Bag Example"></a>Dispose Bag Example</h3><p>ä½ å¯èƒ½å·²ç»å‘ç°äº† <code>disposeBag</code> æ˜¯ <code>ViewController</code> çš„ä¸€ä¸ªæˆå‘˜å˜é‡ã€‚</p>
<figure class="highlight swift"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line"><span class="class"><span class="keyword">class</span> <span class="title">ViewController</span>: <span class="title">UIViewController</span> </span>&#123;</div><div class="line"></div><div class="line"><span class="keyword">let</span> disposeBag = <span class="type">DisposeBag</span>()</div></pre></td></tr></table></figure>
<p>å½“è¿™ä¸ªæ§åˆ¶å™¨è¢«é‡Šæ”¾çš„æ—¶å€™ï¼Œå®ƒä¹Ÿä¼šé‡Šæ”¾æ‰è¿™ä¸ª <code>disposeBag</code> .</p>
<p>å¦‚æœè¿™ä¸ª <code>disposeBag</code> è¢«é‡Šæ”¾æ‰ä¹‹å, å®ƒæˆ‘ä»¬æ·»åŠ åˆ°è¿™ä¸ª bag é‡Œé¢æ‰€æœ‰çš„ä¿¡å·éƒ½ä¼šè¢«é‡Šæ”¾æ‰ã€‚è€Œè¿™ä¸ªç½‘ç»œè¯·æ±‚ä»»åŠ¡å¦‚æœè¿˜æ²¡æœ‰ç»“æŸçš„è¯ä¹Ÿä¼šè¢«å–æ¶ˆã€‚<br>å¸Œæœ›æˆ‘è®²æ¸…æ¥šäº† <code>DisposeBag</code> çš„æœºåˆ¶ã€‚</p>
<h3 id="Thatâ€˜s-itï¼"><a href="#Thatâ€˜s-itï¼" class="headerlink" title="Thatâ€˜s itï¼"></a>Thatâ€˜s itï¼</h3><p>Demo æˆ‘å·²ç»æ”¾åœ¨ <a href="https://github.com/CepheusTeam/Translate" target="_blank" rel="external">GitHub</a> ä¸Šäº†ã€‚</p>
<p>åˆ°ç°åœ¨, æˆ‘ä»¬å·²ç»å­¦åˆ°äº†å¦‚ä½•åˆ›å»ºä¸€ä¸ª Observable å’Œ è®¢é˜…è€…ã€‚ä»¥åŠ disposing æœºåˆ¶æ˜¯æ€ä¹ˆå›äº‹ã€‚å¸Œæœ›ä½ èƒ½å¤Ÿç†è§£åˆ°è¿™æ ·åšæ¯”å¹³å¸¸çš„è§‚å¯Ÿè€…æ¨¡å¼æœ‰ä»€ä¹ˆä¼˜åŠ¿ã€‚</p>
<p>ä¸‹ä¸€ç¯‡æ˜¯å…³äº RxSwift æ“ä½œç¬¦çš„ã€‚</p>
<p><a href="http://swiftpearls.com/RxSwift-for-dummies-1-Observables.html#basic-example" target="_blank" rel="external">åŸæ–‡åœ°å€</a></p>
<h3 id="æœ€å"><a href="#æœ€å" class="headerlink" title="æœ€å"></a>æœ€å</h3><p>æˆ‘æ˜¯ä¸€åæ¥è‡ªä¸­å›½çš„ iOS ç¨‹åºå‘˜, å¯¹æŠ€æœ¯æœ‰ç€æµ“åšçš„å…´è¶£, åœ¨å­¦ä¹ çš„è¿‡ç¨‹ä¸­, å‘ç°äº†å¾ˆå¤šæ¥è‡ªå›½å¤–çš„ä¼˜ç§€åšå®¢ã€‚ä¸ºäº†æ›´å¥½çš„å­¦ä¹ è¿™äº›æ–‡ç« , äº§ç”Ÿäº†å°†è¿™äº›æ–‡ç« ç¿»è¯‘æˆä¸­æ–‡çš„æƒ³æ³•ã€‚</p>

                    
                    <!-- Tags Bottom -->
                    
                        <div class="tags-container-bottom">
                            <i class="fa fa-tag pr3 text-main-color"></i><a class="fw3 ph1 dib" href="/tags/iOS/">#iOS</a> <a class="fw3 ph1 dib" href="/tags/Swift/">#Swift</a> <a class="fw3 ph1 dib" href="/tags/ç¿»è¯‘/">#ç¿»è¯‘</a> <a class="fw3 ph1 dib" href="/tags/Reactive/">#Reactive</a>
                        </div>
                    

                    <!-- Comments -->
                    



                </div>
                <div class="fl w-100 w-30-l center fw3 lh-copy pl4-ns tl black-50">
                    
                    <hr class="dn-l mw4 black-50 mt5" />
                    
                    <!-- Widget 1: About -->
                    <div class="mt5 mt0-l">
    <article class="dt db-l mw8 mw8-m mw5-ns center ml0-l bg-white mv3">
        <div class="dn dtc-m db-l v-mid tc pr4 pr0-l" style="min-width: 6rem;">
            <img src="http://tachyons.io/img/avatar_1.jpg" class="mb4-l br-100 h3 w3 h4-l w4-l dib" title="CepheusSun">
        </div>
        <div class="dtc db-l v-mid lh-copy measure center f6 black-50 tj">
            My name is Jonathan Klughertz and this is my blog.<br>I am a full stack software engineer with a strong front-end focus.<br> I currently live and work in Singapore, hit me up if you are in the region.
        </div>
    </article>
</div>

                    <hr class="dn-l mw4 black-50 mt5" />
                    
                    <!-- Widget 2: Categories -->
                    
                        <div class="mt5 tc tl-l">
    <h3>Categories</h3>
    
        <p>
            <a href="/categories/Reactive/">Reactive</a>
        </p>
    
</div>


                        <hr class="dn-l mw4 black-50 mt5" />
                    

                    <!-- Widget 3: Recent Posts -->
                    <div class="mt5 tc tl-l">
    <h3>Recent Posts</h3>
    
        <p>
            <a href="/2017/05/14/Protocol Oriented Programming View in Swift 3/">Protocol Oriented Programming View in Swift 3</a>
        </p>
    
        <p>
            <a href="/2017/05/14/Introduction to Protocol Oriented Programming in Swift/">Introduction to Protocol Oriented Programming in S</a>
        </p>
    
        <p>
            <a href="/2017/05/07/RxSwift MVVM API Manual/">RxSwift MVVM API Manual ğŸ“ƒ</a>
        </p>
    
        <p>
            <a href="/2017/05/07/RxSwift Safety Manual/">RxSwift Safety Manual ğŸ“š</a>
        </p>
    
        <p>
            <a href="/2017/05/07/RxSwift For Dummies Part3/">RxSwift For Dummies ğŸ£ Part3</a>
        </p>
    
</div>
                </div>
            </div>
        </div>
    </div>
</div>


<!-- Footer -->
<div class="bg-1 ph2 ph5-ns pv5">
        <div class="mv8">
            <div class="center tc">
                
                    <div class="dib mh3">
                        <a class="f3 f2-ns white dim" href="http://weibo.com/2453750463/profile?rightmod=1&wvr=6&mod=personinfo/" target="_blank">
                            <i class="fa fa-weibo"></i>
                        </a>
                    </div>
                
                    <div class="dib mh3">
                        <a class="f3 f2-ns white dim" href="https://twitter.com/CepheusSun_/" target="_blank">
                            <i class="fa fa-twitter"></i>
                        </a>
                    </div>
                
                    <div class="dib mh3">
                        <a class="f3 f2-ns white dim" href="https://github.com/CepheusTeam/Translate/" target="_blank">
                            <i class="fa fa-github"></i>
                        </a>
                    </div>
                
                    <div class="dib mh3">
                        <a class="f3 f2-ns white dim" href="mailto:cd_sunyang@163.com" target="_blank">
                            <i class="fa fa-envelope"></i>
                        </a>
                    </div>
                
            </div>
            <div class="f6 f5-ns center tc white pt5 fw3">
                @CepheusTeam. All right reserved
            </div>
        </div>
    </div>

<!-- After Footer -->
<!-- Disqus Comments -->



</body>

</html>